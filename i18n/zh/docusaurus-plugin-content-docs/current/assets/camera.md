# 摄像机

摄像机就是……摄像机！

## 多摄像机

Warudo 的场景中支持最多 8 个摄像机。

![](/doc-img/zh-camera-1.webp)
<p class="img-desc">使用 Spout 和 NDI 输出功能，可以在 OBS 中实现同屏多镜头的效果</p>

## 主摄像机

「主摄像机」指的是在主窗口渲染，可以用键盘和鼠标控制的摄像机。

有两种方式可以切换主摄像机：

1. 主窗口对焦时，按 Tab / Ctrl+Tab 即可将主摄像机切换到场景中下一个 / 上一个摄像机；
2. 在配置窗口点击任意摄像机左边的图标，即可设置该摄像机为主摄像机。

## 属性

### 控制

* 控制模式：
  * 无：摄像机固定在原位。
  * 自由观察：仿 Unity 编辑器内的摄像机，按下鼠标右键时使用 WASD 移动、E 和 Q 键上升和下降，Shift 键加速。鼠标中键平移视角。
  * 环绕角色：让摄像机环绕角色。按下鼠标左键或右键旋转视角，鼠标滚轮拉远拉近视角，鼠标中键平移视角。
* 控制灵敏度：摄像机移动 / 旋转的速度。
* 聚焦角色：控制模式为「环绕角色」时的聚焦角色，同时也是「景深」->「聚焦角色」选项开启时的聚焦角色。
* 跟随角色速度：控制模式为「环绕角色」时镜头跟随角色的速度。
* 显示 Gizmos：是否显示各类控制实体的 Gizmos。

![](/doc-img/zh-camera-2.webp)

::tip
可以在主界面按 **G 键**随时开启 / 关闭主摄像机的 Gizmo。
:::

:::info
显而易见地，如果你需要在直播中使用 Warudo，建议在开播前关掉 Gizmos。

当然，更好的办法是——创建另一个观众视角专属的摄像机，并使用 NDI 或 Spout 直接推流到直播软件（例如 OBS）。这样，你可以在直播中继续使用主窗口对场景进行微调，而不需要担心影响直播的观感。
:::

* 重置摄像机变换：重置摄像机的位置和旋转到默认位置。

### 输出

* Spout 输出：用 [Spout](https://github.com/leadedge/Spout2) 推送画面到本机上的 Spout 接收程序。
* Spout 输出名称：接收侧看到的 Spout 输出的名称。

:::info
以 [OBS](https://obsproject.com/) 为例，安装 [obs-spout2-plugin](https://github.com/Off-World-Live/obs-spout2-plugin/releases) 后，在 OBS 中添加 Spout2 Capture 源即可。
:::

* NDI 输出：用 [NDI](https://www.ndi.tv) 推送画面到局域网内其他主机上的 NDI 接收程序。
* NDI 输出名称：接收侧看到的 NDI 输出的名称。

:::info
以 [OBS](https://obsproject.com/) 为例，安装 [obs-ndi](https://github.com/Palakis/obs-ndi) 后，在 OBS 中添加 NDI™ Source 源即可。
:::

:::info
什么时候用 Spout、什么时候用 NDI？简单来说，如果想将画面推送到局域网下的另一台设备，就使用 NDI；如果只是推送到同一台 PC 上的其他程序（例如 OBS），推荐使用资源占用和延迟都更低的 Spout。
:::

* 虚拟摄像头输出：推送画面到 Warudo 的内置虚拟摄像头。
* 镜像虚拟摄像头输出：是否左右翻转虚拟摄像头输出的画面。
* 截图：截图并保存到数据文件夹的 Screenshots 子文件夹下。

:::tip
**Spout 输出、NDI 输出、虚拟摄像头输出、截图均支持透明度！**只需要开启色键（见下），并将色键颜色的 alpha 值设置为 0 即可。
:::

:::info
Spout 输出到 OBS 的情况下，需要在 Spout2 Capture 属性中设置 Composite Mode 为 Premultiplied Alpha 才会有透明度：

![](/doc-img/zh-camera-4.webp)
:::

:::info
虚拟摄像头输出到 OBS 的情况下，需要在视频捕获设备属性中设置 Video Format（视频格式）为 ARGB 才会有透明度：

![](/doc-img/zh-camera-5.webp)
:::

### 基本属性

* 使用色键：是否不显示天空盒，而是显示固定颜色。

:::caution
使用色键时，场景中的[环境](https://tiger-tang.gitbook.io/warudo/assets/environment)仍会显示。
:::

* 色键颜色：「使用色键」选项开启时，背景显示的固定颜色。

:::tip
色键颜色的 A（透明度）小于 1 时，背景将变为半透明；设置为 0 时，背景将完全透明。此时 **Spout 输出、NDI 输出、虚拟摄像头输出、截图**都会保留透明度。
:::

* 视场角：摄像机的视场角。
* 正交投影：是否使用正交投影。

![](/doc-img/zh-camera-6.webp)

### 手持运镜效果

* 强度：手持运镜效果移动的范围。
* 速度：手持运镜效果移动的速度。

### 色调映射和颜色分级

* LUT 材质：通过调整画面的颜色营造想要的氛围感。

![](/doc-img/zh-camera-7.webp)

:::tip
**Warudo 内置 200+ 种 LUT 材质**，为你的场景选一个试试吧！合适的 LUT 材质可以大幅提升画面效果。
:::

* LUT 强度：LUT 材质对画面影响的强度。
* 自然饱和度：画面颜色的饱和度。
* 对比度：画面颜色的对比度。
* 亮度：画面颜色的亮度。
* 色调：叠加在画面上的额外颜色。

### 泛光

让画面的亮部散发出光晕的效果。

![](/doc-img/zh-camera-8.webp)

* 强度：光晕的强度。
* 阈值：阈值越低，画面上没有那么亮的地方也会散发出光晕。
* 色调：光晕的颜色。
* 距离衰减：光晕的强度随距离衰减的程度。
* 靠近摄像机衰减距离：在此距离内的物体，亮部产生的光晕会衰减。
* 高质量：是否提高泛光的渲染质量。

### 环境光遮蔽

给画面添加更多阴影，（大多数情况下）可以让视觉效果更真实。

![](/doc-img/zh-camera-9.webp)

:::info
对于二次元的脸型（尤其脸部网格并非平坦的情况下），并不推荐开启环境光遮蔽。

![](/doc-img/zh-camera-10.webp)
:::

* 半径：阴影的半径。
* 最大半径像素：阴影采样的最大像素。如果你的角色阴影看起来很怪，可以把此值适当调低。
* 强度：阴影的强度。
* 颜色：阴影的颜色。
* 高质量：是否提高环境光遮蔽的渲染质量。

### 变形镜头光晕

模仿变形镜头的横向/竖向光晕效果。

![](/doc-img/zh-camera-11.webp)

* 强度：光晕的强度。
* 阈值：阈值越低，画面上没有那么亮的地方也会散发出光晕。
* 色调：光晕的颜色。
* 扩散：光晕溢出的程度。
* 垂直光晕：光是否竖向溢出。
* 高质量：是否提高变形镜头光晕的渲染质量。

### 景深

让远处的物体变得模糊。

![](/doc-img/zh-camera-12.webp)

* 聚焦角色：是否自动聚焦在「控制」->「聚焦角色」选择的角色上。
* 对焦距离：焦点和摄像头的距离。
* 对焦速度：当焦点物体距离产生变化导致失焦时，重新对焦的速度。
* 焦距：越大，不在景深内的物体越模糊。
* 光圈：越大，不在景深内的物体越模糊。

:::info
作者本人也没搞懂焦距和光圈的区别。请专业摄影师指教……
:::

* 散景效果：落在景深以外的画面，颜色扩散的效果。
* 散景效果阈值：散景效果的阈值。
* 散景效果强度：散景效果的强度。
* 高质量：是否提高景深的渲染质量。

### 色差

模仿镜头无法将所有颜色融合到同一点时产生的效果。

![](/doc-img/zh-camera-13.webp)

* 强度：色差的强度。
* 平滑：越高，色差和原本颜色的过渡越平滑。

### 镜头污渍

模仿镜头上的污渍 / 光斑。

![](/doc-img/zh-camera-14.webp)

* 材质：镜头污渍 / 光斑的材质。
* 强度：镜头污渍的强度。
* 阈值：越低，在明亮的地方显示越明显。

### 渐晕

使画面的边缘变暗。

![](/doc-img/zh-camera-15.webp)

* 颜色：叠加在画面边缘的颜色。
* 淡出：越高，渐晕颜色叠加范围越大。
* 眨眼：模拟第一人称游戏中常见的眨眼效果。

![](/doc-img/zh-camera-16.webp)

### 夜视

模拟夜视镜效果。

![](/doc-img/zh-camera-17.webp)

* 颜色：夜视镜的颜色。

### 模糊

让画面变得模糊。

![](/doc-img/zh-camera-18.webp)

* 强度：模糊的强度。

### 像素化

给画面打上马赛克！

![](/doc-img/zh-camera-19.webp)

* 强度：像素化的强度。
